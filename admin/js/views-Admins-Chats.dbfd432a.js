(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views-Admins-Chats"],{"7a8d":function(t,e,n){},"9e8d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"app-container",class:{"app-mobile":t.isDevice,"app-mobile-dark":"dark"===t.theme}},[t.showOptions?n("span",{staticClass:"user-logged",class:{"user-logged-dark":"dark"===t.theme}},[t._v(" Logged as ")]):t._e(),t.showOptions?n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentUserId,expression:"currentUserId"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentUserId=e.target.multiple?n:n[0]}}},t._l(t.users,(function(e){return n("option",{key:e._id,domProps:{value:e._id}},[t._v(" "+t._s(e.username)+" ")])})),0):t._e(),t.showOptions?n("div",{staticClass:"button-theme"},[n("button",{staticClass:"button-light",on:{click:function(e){t.theme="light"}}},[t._v(" Light ")]),n("button",{staticClass:"button-dark",on:{click:function(e){t.theme="dark"}}},[t._v(" Dark ")]),t._m(0)]):t._e(),t.showChat?n("chat-container",{attrs:{"current-user-id":t.currentUserId,theme:t.theme,"is-device":t.isDevice,data:t.users},on:{"show-demo-options":function(e){t.showDemoOptions=e}}}):t._e()],1)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"button-github"},[n("a",{attrs:{href:"https://github.com/antoine92190/vue-advanced-chat"}},[n("img",{attrs:{src:""}})])])}],s=(n("4160"),n("d81d"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),i=n("bc3a"),o=n.n(i),c=n("1ab0"),u=n("c925"),d={components:{ChatContainer:u["default"]},data:function(){return{theme:"light",showChat:!0,users:[],isDevice:!1,showDemoOptions:!0,updatingData:!1,currentUserId:"2"}},computed:{showOptions:function(){return!this.isDevice||this.showDemoOptions}},watch:{currentUserId:function(){var t=this;this.showChat=!1,setTimeout((function(){return t.showChat=!0}),150)}},mounted:function(){var t=this;this.isDevice=window.innerWidth<500,window.addEventListener("resize",(function(e){e.isTrusted&&(t.isDevice=window.innerWidth<500)})),this.getData()},methods:{resetData:function(){c["d"].get().then((function(t){t.forEach(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=c["d"].doc(e.id).collection("messages"),t.next=3,n.get().then((function(t){t.empty||t.docs.map((function(t){return n.doc(t.id).delete()}))}));case 3:c["d"].doc(e.id).delete();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),c["e"].get().then((function(t){t.forEach((function(t){c["e"].doc(t.id).delete()}))}))},getData:function(){var t=this,e=[];o.a.get("customer").then((function(n){var a=n.data.data;a.forEach((function(n){e.push({_id:n.id,username:n.name,avatar:t.$baseUrl+n.photo})})),t.users=e,t.addData()}))},addData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.updatingData=!0,n=0;case 2:if(!(n<t.users.length)){e.next=9;break}return a=t.users[n],e.next=6,c["e"].doc(a._id).set(a);case 6:n++,e.next=2;break;case 9:t.updatingData=!1;case 10:case"end":return e.stop()}}),e)})))()}}},h=d,l=(n("e409"),n("2877")),p=Object(l["a"])(h,a,r,!1,null,null,null);e["default"]=p.exports},e409:function(t,e,n){"use strict";n("7a8d")}}]);
//# sourceMappingURL=views-Admins-Chats.dbfd432a.js.map