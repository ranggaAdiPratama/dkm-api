(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views-Orders-Reguler-NewOrderView"],{"21b8":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("material-card",{attrs:{color:"primary",icon:"mdi-cart-plus",flat:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Create New Order ")]},proxy:!0}])},[i("v-form",[i("v-container",{staticClass:"py-0"},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"3"}},[i("v-autocomplete",{attrs:{items:e.data,"item-text":"name","item-value":"id",label:"Select User",outlined:"",dense:"",clearable:""},on:{change:function(t){return e.pickupFee()}},model:{value:e.form.selectedUser,callback:function(t){e.$set(e.form,"selectedUser",t)},expression:"form.selectedUser"}}),i("v-text-field",{attrs:{label:"Receiver Name",outlined:"",clearable:""},model:{value:e.form.receiverName,callback:function(t){e.$set(e.form,"receiverName",t)},expression:"form.receiverName"}}),i("v-text-field",{attrs:{label:"Receiver Phone",outlined:"",clearable:""},model:{value:e.form.receiverPhone,callback:function(t){e.$set(e.form,"receiverPhone",t)},expression:"form.receiverPhone"}}),i("v-text-field",{attrs:{label:"Receiver Phone 2",outlined:"",clearable:""},model:{value:e.form.receiverPhone2,callback:function(t){e.$set(e.form,"receiverPhone2",t)},expression:"form.receiverPhone2"}}),i("v-autocomplete",{attrs:{items:e.city,"item-text":"nama","item-value":"city_id",label:"Select City",outlined:"","persistent-hint":""},on:{change:function(t){return e.filterDistrict()}},model:{value:e.form.selectedCity,callback:function(t){e.$set(e.form,"selectedCity",t)},expression:"form.selectedCity"}}),i("v-autocomplete",{attrs:{items:e.filteredDistrict,"item-text":"nama","item-value":"id",label:"Select District",disabled:null===e.form.selectedCity,outlined:"","persistent-hint":"",clearable:""},on:{change:function(t){return e.filterVillage()}},model:{value:e.form.selectedDistrict,callback:function(t){e.$set(e.form,"selectedDistrict",t)},expression:"form.selectedDistrict"}})],1),i("v-col",{attrs:{cols:"12",md:"3"}},[null!==e.form.selectedDistrict?i("v-autocomplete",{attrs:{items:e.filteredVillage,"item-text":"nama","item-value":"id",label:"Select Village",outlined:"","persistent-hint":"",clearable:""},on:{change:function(t){return e.deliveryFee()}},model:{value:e.form.selectedVillage,callback:function(t){e.$set(e.form,"selectedVillage",t)},expression:"form.selectedVillage"}}):i("v-autocomplete",{attrs:{items:e.filteredVillage,"item-text":"nama","item-value":"id",label:"Select Village",disabled:"",outlined:"","persistent-hint":""},on:{change:function(t){return e.deliveryFee()}},model:{value:e.form.selectedVillage,callback:function(t){e.$set(e.form,"selectedVillage",t)},expression:"form.selectedVillage"}}),i("v-textarea",{attrs:{label:"Receiver Address",rows:"5",outlined:"",clearable:""},model:{value:e.form.receiverAddress,callback:function(t){e.$set(e.form,"receiverAddress",t)},expression:"form.receiverAddress"}}),i("v-select",{attrs:{items:e.methods,"item-text":"method","item-value":"id",label:"Select Payment Method",outlined:"",clearable:""},model:{value:e.form.selectedMethod,callback:function(t){e.$set(e.form,"selectedMethod",t)},expression:"form.selectedMethod"}}),i("v-text-field",{attrs:{label:"Product Name",outlined:"",clearable:""},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName",t)},expression:"form.productName"}}),i("v-text-field",{attrs:{label:"Weight",type:"number",outlined:"",clearable:""},on:{input:e.countFee},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1),i("v-col",{attrs:{cols:"12",md:"3"}},[i("v-text-field",{attrs:{label:"Volume",type:"number",outlined:"",clearable:""},model:{value:e.form.volume,callback:function(t){e.$set(e.form,"volume",t)},expression:"form.volume"}}),i("vuetify-money",{attrs:{label:"Delivery Fee",readonly:"",outlined:e.outlined,options:e.options},model:{value:e.form.delivery_fee,callback:function(t){e.$set(e.form,"delivery_fee",t)},expression:"form.delivery_fee"}}),i("vuetify-money",{attrs:{label:e.label,readonly:e.readonly,disabled:e.disabled,outlined:e.outlined,clearable:e.clearable,options:e.options},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}}),i("v-textarea",{attrs:{label:"Description",type:"number",rows:"4",outlined:"",clearable:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),i("v-select",{attrs:{items:e.drivers,"item-text":"name","item-value":"id",label:"Select Delivery Driver",outlined:"",clearable:""},model:{value:e.form.delivery_driver,callback:function(t){e.$set(e.form,"delivery_driver",t)},expression:"form.delivery_driver"}})],1),i("v-col",{attrs:{cols:"12",md:"3"}},[i("v-file-input",{attrs:{accept:"image/jpeg","prepend-icon":"",label:"Photo",clearable:"",outlined:""},on:{change:function(t){return e.preview(t)}},model:{value:e.form.photo,callback:function(t){e.$set(e.form,"photo",t)},expression:"form.photo"}}),i("v-card",{staticClass:"d-flex justify-space-around pa-4",staticStyle:{border:"dashed","border-color":"gray"}},[e.imgUrl?i("v-img",{staticClass:"preview",attrs:{src:e.imgUrl}}):i("v-card-text",{staticClass:"text-center",staticStyle:{height:"185px"}},[e._v(" Image Preview Area ")])],1),i("v-btn",{staticClass:"float-right mt-5px",attrs:{color:"primary","min-width":"150"},on:{click:e.saveOrder}},[e._v(" Create Order ")])],1)],1)],1)],1)],1)},s=[],r=(i("a4d3"),i("e01a"),i("4de4"),i("4160"),i("d3b7"),i("3ca3"),i("159b"),i("ddb0"),i("2b3d"),i("bc3a")),a=i.n(r),n={_props:["data","district","village","methods","del_fee_list","category_id","city"],get props(){return this._props},set props(e){this._props=e},data:function(){return{imgUrl:null,filteredVillage:[],filteredDistrict:[],form:{selectedUser:null,selectedCity:null,selectedDistrict:null,selectedVillage:null,selectedMethod:null,productName:null,weight:null,volume:null,price:null,description:null,photo:null,receiverName:null,receiverAddress:null,descriptionAddress:null,receiverPhone:null,receiverPhone2:null,delivery_fee:0,delivery_driver:null},value:0,label:"Price",readonly:!1,additional_fee:0,additional_fee2:0,disabled:!1,outlined:!0,drivers:[],clearable:!0,options:{locale:"pt-BR",prefix:"Rp ",suffix:" ",length:12,precision:0}}},mounted:function(){this.getDrivers()},methods:{preview:function(e){null!==this.form.photo?(this.form.photo=e,this.imgUrl=URL.createObjectURL(this.form.photo)):this.imgUrl=null},getDrivers:function(){var e=this;a.a.get("admin/driver").then((function(t){e.drivers=t.data.driver}))},countFee:function(){var e=this;this.form.delivery_fee=0;var t=this.form.weight,i=this.del_fee_list;i.forEach((function(i){t>parseInt(i.from_weight)&&t<=parseInt(i.to_weight)&&(e.form.delivery_fee=parseInt(i.price)+parseInt(e.additional_fee)+parseInt(e.additional_fee2))}))},saveOrder:function(){var e=this;this.$swal.showLoading();var t=new FormData;t.append("name",this.form.productName),t.append("weight",this.form.weight),t.append("volume",this.form.volume),t.append("price",this.form.price),t.append("description_order",this.form.description),t.append("photo",this.form.photo),t.append("receiver_name",this.form.receiverName),t.append("receiver_phone",this.form.receiverPhone),t.append("receiver_phone2",this.form.receiverPhone),t.append("receiver_address",this.form.receiverAddress),t.append("description_address",this.form.descriptionAddress),t.append("city",this.form.selectedCity),t.append("district",this.form.selectedDistrict),t.append("village",this.form.selectedVillage),t.append("payment_method",this.form.selectedMethod),t.append("user_id",this.form.selectedUser),t.append("delivery_fee",this.form.delivery_fee),t.append("category_id",this.category_id),t.append("delivery_driver",this.form.delivery_driver),a.a.post("admin/order",t).then((function(){e.$swal("Data Created Successfully","","success"),e.form.productName=null,e.form.weight=0,e.form.volume=0,e.form.price=0,e.form.description=null,e.form.photo=null,e.form.receiverPhone=null,e.form.receiverPhone2=null,e.form.receiverName=null,e.form.receiverAddress=null,e.form.descriptionAddress=null,e.form.selectedCity=null,e.form.selectedDistrict=null,e.form.selectedVillage=null,e.form.selectedMethod=null,e.form.selectedUser=null,e.form.delivery_driver=null})).catch((function(e){console.log(e)}))},filterVillage:function(){var e=this;this.filteredVillage=[],this.filteredVillage=this.village.filter((function(t){return t.kecamatan_id===e.form.selectedDistrict}))},filterDistrict:function(){var e=this;this.filteredDistrict=[],this.filteredDistrict=this.district.filter((function(t){return t.kabupaten_id===e.form.selectedCity}))},deliveryFee:function(){var e=this;"7371"!==this.form.selectedCity?(a.a.get("admin/special-delivery-fee/"+this.form.selectedVillage).then((function(t){e.additional_fee=t.data})),this.countFee()):(this.additional_fee=0,this.countFee())},pickupFee:function(){var e=this;a.a.get("admin/special-pickup-fee/"+this.form.selectedUser).then((function(t){e.additional_fee2=t.data})),this.countFee()}}},o=n,c=(i("bcb8"),i("2877")),d=i("6544"),h=i.n(d),u=i("c6a6"),m=i("8336"),p=i("b0af"),f=i("99d9"),v=i("62ad"),g=i("a523"),b=i("23a7"),y=i("4bd4"),I=i("adda"),x=i("0fd9"),S=i("b974"),_=i("8654"),D=i("a844"),w=Object(c["a"])(o,l,s,!1,null,null,null);t["default"]=w.exports;h()(w,{VAutocomplete:u["a"],VBtn:m["a"],VCard:p["a"],VCardText:f["b"],VCol:v["a"],VContainer:g["a"],VFileInput:b["a"],VForm:y["a"],VImg:I["a"],VRow:x["a"],VSelect:S["a"],VTextField:_["a"],VTextarea:D["a"]})},"2bfd":function(e,t,i){},"62d9":function(e,t,i){},bcb8:function(e,t,i){"use strict";i("62d9")},c6a6:function(e,t,i){"use strict";i("2bfd");var l=i("b974"),s=i("8654"),r=i("d9f7"),a=i("80d2");const n={...l["b"],offsetY:!0,offsetOverflow:!0,transition:!1};t["a"]=l["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,i)=>i.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:l["a"].options.props.menuProps.type,default:()=>n},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...l["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(e=>this.getValue(e))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(e=>!this.hasItem(e)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(e=>{const t=Object(a["r"])(e,this.itemText),i=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),i)})},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=l["a"].options.computed.$_menuProps.call(this);return e.contentClass=("v-autocomplete__content "+(e.contentClass||"")).trim(),{...n,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue)))},listData(){const e=l["a"].options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.blur(),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=null)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){e!==t&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===a["y"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===a["y"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==a["y"].backspace&&e!==a["y"].delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const i=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==i)return void(this.selectedIndex=i);const l=this.selectedItems.length,s=e!==l-1?e:e-1,r=this.selectedItems[s];r?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=s},clearableCallback(){this.internalSearch=null,l["a"].options.methods.clearableCallback.call(this)},genInput(){const e=s["a"].options.methods.genInput.call(this);return e.data=Object(r["a"])(e.data,{attrs:{"aria-activedescendant":Object(a["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(a["p"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=l["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?l["a"].options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,i=t.value;t.value&&this.activateMenu(),this.internalSearch=i,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;!e.ctrlKey&&[a["y"].home,a["y"].end].includes(t)||l["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){l["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){l["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){l["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){var t,i;if(-1===this.selectedIndex)return;const l=this.selectedItems[this.selectedIndex],s=this.getText(l);null==(t=e.clipboardData)||t.setData("text/plain",s),null==(i=e.clipboardData)||i.setData("text/vnd.vuetify.autocomplete.item+plain",s),e.preventDefault()}}})}}]);
//# sourceMappingURL=views-Orders-Reguler-NewOrderView.3e3ff60a.js.map