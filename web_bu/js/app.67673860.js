(function(e){function t(t){for(var n,r,o=t[0],c=t[1],d=t[2],l=0,u=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0c585434":"09514c1c","chunk-0dcc57d8":"f87645be","chunk-25563914":"559146a1","chunk-702350a6":"79eaa5da","chunk-abf0437c":"d1f324b6","chunk-2d0c22aa":"5a712dd0"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-0c585434":1,"chunk-0dcc57d8":1,"chunk-25563914":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-0c585434":"3eea55ea","chunk-0dcc57d8":"0e9365bb","chunk-25563914":"e3ddfbe3","chunk-702350a6":"31d6cfe0","chunk-abf0437c":"31d6cfe0","chunk-2d0c22aa":"31d6cfe0"}[e]+".css",s=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var d=i[o],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===n||l===s))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){d=u[o],l=d.getAttribute("data-href");if(l===n||l===s)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[e],m.parentNode.removeChild(m),a(i)},m.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){r[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=s[e]=[t,a]}));t.push(n[2]=i);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var u=new Error;d=function(t){l.onerror=l.onload=null,clearTimeout(m);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",u.name="ChunkLoadError",u.type=n,u.request=r,a[1](u)}s[e]=void 0}};var m=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var m=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1954:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-dialog",{attrs:{"max-width":"500",persistent:""},model:{value:this.$store.state.dialog,callback:function(t){e.$set(this.$store.state,"dialog",t)},expression:"this.$store.state.dialog"}},[a("v-card",{staticClass:"pa-8",staticStyle:{opacity:"0.9"},attrs:{"align-item":"center",flat:""}},[a("v-card-title",{staticClass:"pa-0"},[a("h3",[e._v("Masuk ")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.$store.commit("dialog",!1)}}},[a("v-icon",[e._v(" mdi-close ")])],1)],1),a("v-form",{ref:"form",staticStyle:{color:"white"},attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("h3",[e._v("Sign In")]),a("v-divider"),a("v-text-field",{attrs:{rules:e.emailRules,counter:10,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:e.passwordrules,type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{staticClass:"mr-4",attrs:{small:"",loading:e.loading,disabled:e.loading,color:"green accent-3 "},on:{click:e.signIn}},[e._v(" Masuk ")]),a("v-btn",{staticClass:"mr-4",attrs:{small:"",color:"cyan accent-4"},on:{click:e.openForm}},[e._v(" Belum Punya Akun ")]),a("v-btn",{staticClass:"float-right mt-2",attrs:{"x-small":"",color:"red",text:""},on:{click:function(t){e.dialog=!0}}},[e._v(" lupa password ? ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"pa-8",staticStyle:{opacity:"0.9"},attrs:{"align-item":"center",flat:""}},[a("v-card-title",{staticClass:"pa-0"},[a("h5",[e._v("Email Konfirmasi ")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v(" mdi-close ")])],1)],1),a("v-text-field",{attrs:{name:"input-10-1",label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("p",{staticStyle:{"font-size":"11px",color:"red"}},[e._v(" *Pastikan email yang anda masukan benar ")]),a("v-card-action",{staticClass:"justify-content-right mb-3"},[a("v-btn",{staticClass:"float-right",attrs:{color:"blue",small:""},on:{click:function(t){return e.sendEmail()}}},[e._v(" kirim ")])],1)],1)],1)],1)},r=[],s=a("bc3a"),i=a.n(s),o={data:function(){return{show1:!1,valid:!0,loading:!1,dialog:!1,email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:"",passwordrules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=12||"Password must be more than 6 characters"}],isLarge:this.$vuetify.breakpoint.lgAndUp,isSmall:this.$vuetify.breakpoint.mdOnly,isXSmall:this.$vuetify.breakpoint.smAndDown}},methods:{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},signIn:function(){var e=this;this.loading=!0,i.a.post("/auth/login",{email:this.email,password:this.password}).then((function(t){i.a.defaults.headers.common.Authorization="Bearer "+t.data.token,e.$store.commit("authentication",t.data.token),e.$store.commit("Authorization",!0),e.$store.commit("users",t.data.users),e.loadOnce(),e.loading=!1,e.$store.commit("dialog",!1)})).catch((function(){e.loading=!1,e.$swal("Email/Password Salah","","error")}))},openForm:function(){this.$store.commit("Authorization",!0)},loadOnce:function(){location.reload()},sendEmail:function(){var e=this;i.a.post("/send",{email:this.email}).then((function(t){e.$swal(t.data,"","success")}))}}},c=o,d=a("2877"),l=a("6544"),u=a.n(l),m=a("8336"),h=a("b0af"),f=a("99d9"),p=a("a523"),v=a("169a"),g=a("ce7e"),b=a("4bd4"),w=a("132d"),_=a("2fa4"),x=a("8654"),y=Object(d["a"])(c,n,r,!1,null,null,null);t["a"]=y.exports;u()(y,{VBtn:m["a"],VCard:h["a"],VCardTitle:f["c"],VContainer:p["a"],VDialog:v["a"],VDivider:g["a"],VForm:b["a"],VIcon:w["a"],VSpacer:_["a"],VTextField:x["a"]})},"44b9":function(e,t,a){"use strict";a("cb20")},"4ffd":function(e,t,a){e.exports=a.p+"img/logo.fbdb72e8.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",e._g(e._b({attrs:{color:"secondary",rounded:""}},"v-btn",e.$attrs,!1),e.$listeners),[e._t("default")],2)},s=[],i={name:"BaseBtn"},o=i,c=a("2877"),d=a("6544"),l=a.n(d),u=a("8336"),m=Object(c["a"])(o,r,s,!1,null,null,null),h=m.exports;l()(m,{VBtn:u["a"]});var f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.tag,{tag:"component",staticClass:"text-h2 v-heading mb-3 font-weight-light"},[e._t("default")],2)},p=[],v={name:"BaseHeading",props:{tag:{type:String,default:"h1"}}},g=v,b=(a("9997"),Object(c["a"])(g,f,p,!1,null,null,null)),w=b.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.tag,{tag:"component",staticClass:"text-h4 v-heading mb-3 font-weight-light"},[e._t("default")],2)},x=[],y={name:"BaseSubheading",props:{tag:{type:String,default:"h1"}}},k=y,C=Object(c["a"])(k,_,x,!1,null,null,null),R=C.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-h6 font-weight-light",staticStyle:{"line-height":"1.7 !important"}},[e._t("default")],2)},U=[],I={name:"BaseText"},D=I,M=Object(c["a"])(D,A,U,!1,null,null,null),V=M.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-img",{staticClass:"grow hidden-sm-and-down",attrs:{contain:"","max-height":"200",width:"100%",position:"top right",src:a("94e0")}})},O=[],P={name:"BaseBubble1"},$=P,S=a("adda"),B=Object(c["a"])($,E,O,!1,null,null,null),j=B.exports;l()(B,{VImg:S["a"]});var T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-img",{staticClass:"grow hidden-sm-and-down",attrs:{contain:"","max-height":"200",width:"100%",position:"bottom left",src:a("9af2")}})},F=[],L={name:"BaseBubble2"},q=L,H=Object(c["a"])(q,T,F,!1,null,null,null),N=H.exports;l()(H,{VImg:S["a"]}),n["a"].component("BaseBtn",h),n["a"].component("BaseHeading",w),n["a"].component("BaseSubheading",R),n["a"].component("BaseText",V),n["a"].component("BaseBubble1",j),n["a"].component("BaseBubble2",N);var z=a("f309");n["a"].use(z["a"]);var Y=new z["a"]({theme:{themes:{light:{primary:"#d20b28",secondary:"#BFADA5",accent:"#D8EBF1",info:"#5B5C79"}}}}),K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",[a("router-view",{key:e.$route.fullPath}),a("core-footer")],1)],1)},G=[],Q=(a("d3b7"),a("3ca3"),a("ddb0"),{name:"App",components:{CoreFooter:function(){return a.e("chunk-25563914").then(a.bind(null,"7a74"))}}}),W=Q,X=a("7496"),Z=Object(c["a"])(W,K,G,!1,null,null,null),J=Z.exports;l()(Z,{VApp:X["a"]});var ee=a("2f62"),te=a("0e44"),ae=a("88b4"),ne=a.n(ae),re=new ne.a({encodingType:"aes",encryptionSecret:"^77asj12@skdjasdk"});n["a"].use(ee["a"]);var se=new ee["a"].Store({state:{authentication:null,Authorization:!1,users:{},city:[],district:[],village:[],methods:[],del_fee_list:[],dialog:!1,dialog_customer:!1,tour:!0},mutations:{authentication:function(e,t){e.authentication=t},Authorization:function(e,t){e.Authorization=t},users:function(e,t){e.users=t},district:function(e,t){e.district=t},village:function(e,t){e.village=t},methods:function(e,t){e.methods=t},del_fee_list:function(e,t){e.del_fee_list=t},customer_list:function(e,t){e.customer_list=t},dialog:function(e,t){e.dialog=t},dialog_customer:function(e,t){e.dialog_customer=t},tour:function(e,t){e.tour=t},city:function(e,t){e.city=t}},plugins:[Object(te["a"])({storage:{getItem:function(e){return re.get(e)},setItem:function(e,t){return re.set(e,t)},removeItem:function(e){return re.remove(e)}}})]}),ie=se,oe=a("8c4f"),ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"white",flat:""}},[n("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-container",{staticClass:"py-0 fill-height"},[n("v-avatar",{attrs:{width:"100"}},[n("v-img",{attrs:{contain:"",width:"200",src:a("4ffd")}})],1),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{to:"/",text:""}},[e._v(" HOME ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/customer-page"}},[e._v(" Orderan Saya ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/chat"}},[e._v(" Pesan ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/profile"},on:{click:function(t){return e.getData()}}},[e._v(" Profil ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:""},on:{click:e.logout}},[e._v(" logout ")]),n("v-spacer")],1)],1),n("v-navigation-drawer",{attrs:{absolute:"",left:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",{attrs:{"active-class":"deep-primary--text text--accent-4"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[n("v-list-item",{attrs:{to:"/customer-page"}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""}},[e._v(" mdi-cart ")]),e._v(" Orderan Saya ")],1)],1),n("v-list-item",{attrs:{to:"/chat"}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""}},[e._v(" mdi-message ")]),e._v(" Pesan ")],1)],1),n("v-list-item",{attrs:{to:"/profile"}},[n("v-list-item-title",[n("v-icon",{attrs:{small:""}},[e._v(" mdi-account ")]),e._v(" Profil ")],1)],1)],1)],1)],1),n("v-main",{staticClass:"grey lighten-3"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[n("v-sheet",{staticClass:"hidden-sm-and-down"},[n("v-tabs",{staticClass:"ma-1",attrs:{vertical:"",color:"blue"},model:{value:e.tab_cat,callback:function(t){e.tab_cat=t},expression:"tab_cat"}},[n("v-tab",{attrs:{href:"#reguler"}},[e._v(" Reguler ")]),n("v-tab",{attrs:{href:"#express"},on:{click:function(t){return e.getExp()}}},[e._v(" Express ")])],1)],1),n("v-sheet",{staticClass:"hidden-md-and-up"},[n("v-tabs",{staticClass:"ma-1",attrs:{color:"blue"},model:{value:e.tab_cat,callback:function(t){e.tab_cat=t},expression:"tab_cat"}},[n("v-tab",{attrs:{href:"#reguler"}},[e._v(" Reguler ")]),n("v-tab",{attrs:{href:"#express"},on:{click:function(t){return e.getExp()}}},[e._v(" Express ")])],1)],1)],1),n("v-col",[n("v-sheet",{attrs:{"min-height":"70vh",rounded:"lg"}},[n("v-card",{attrs:{flat:""}},[n("v-container",[n("v-card",{attrs:{flat:""}},[n("v-tabs-items",{model:{value:e.tab_cat,callback:function(t){e.tab_cat=t},expression:"tab_cat"}},[n("v-tab-item",{attrs:{id:"reguler"}},[n("v-card",{staticClass:"mx-auto",attrs:{flat:""}},[n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-tabs",{staticClass:"ml-n10",attrs:{"align-with-title":"",color:"blue"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{attrs:{href:"#menu-1"}},[n("v-icon",{staticClass:"mr-1"},[e._v(" mdi-cached ")]),e._v(" Diproses ")],1),n("v-tab",{attrs:{href:"#menu-2"}},[n("v-icon",{staticClass:"mr-1"},[e._v(" mdi-moped ")]),e._v(" Dikirim ")],1),n("v-tab",{attrs:{href:"#menu-3"}},[n("v-icon",{staticClass:"mr-1"},[e._v(" mdi-check ")]),e._v(" Selesai ")],1)],1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{attrs:{id:"menu-1"}},[n("v-card-title",[n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{headers:e.headers,items:e.diproses,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",small:""},on:{click:function(t){return e.dataDetail(a.id)}}},"v-btn",s,!1),r),[n("v-icon",{attrs:{small:""}},[e._v(" mdi-eye ")])],1)]}}],null,!0)},[n("span",[e._v("Detail")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"","x-small":""},on:{click:function(t){return e.confirm(a.id)}}},"v-btn",s,!1),r),[n("v-icon",[e._v("mdi-close-circle")])],1)]}}],null,!0)},[n("span",[e._v("Cancel Order")])])]}},{key:"item.delivery_fee",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.delivery_fee,{separator:","}))+" ")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.price,{separator:","}))+" ")]}}])})],1),n("v-tab-item",{attrs:{id:"menu-2"}},[n("v-card-title",[n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{headers:e.headers,items:e.dikirim,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{icon:"",small:""}},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.dataDetail(a.id)}}},[e._v(" mdi-eye ")])],1)]}},{key:"item.delivery_fee",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.delivery_fee,{separator:","}))+" ")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.price,{separator:","}))+" ")]}}])})],1),n("v-tab-item",{attrs:{id:"menu-3"}},[n("v-card-title",[n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{headers:e.headers,items:e.selesai,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{icon:"",small:""}},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.dataDetail(a.id)}}},[e._v(" mdi-eye ")])],1)]}},{key:"item.delivery_fee",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.delivery_fee,{separator:","}))+" ")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.price,{separator:","}))+" ")]}}])})],1)],1)],1)],1)],1)],1),n("v-tab-item",{attrs:{id:"express"}},[n("v-card",{staticClass:"mx-auto",attrs:{flat:""}},[n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-tabs",{staticClass:"ml-n10",attrs:{"align-with-title":"",color:"blue"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{attrs:{href:"#menu-1"}},[n("v-icon",{staticClass:"mr-1"},[e._v(" mdi-cached ")]),e._v(" Diproses ")],1),n("v-tab",{attrs:{href:"#menu-2"}},[n("v-icon",{staticClass:"mr-1"},[e._v(" mdi-moped ")]),e._v(" Dikirim ")],1),n("v-tab",{attrs:{href:"#menu-3"}},[n("v-icon",{staticClass:"mr-1"},[e._v(" mdi-check ")]),e._v(" Selesai ")],1)],1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{attrs:{id:"menu-1"}},[n("v-card-title",[n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{headers:e.headers,items:e.diprosesExp,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",small:""},on:{click:function(t){return e.dataDetailExp(a.id)}}},"v-btn",s,!1),r),[n("v-icon",{attrs:{small:""}},[e._v(" mdi-eye ")])],1)]}}],null,!0)},[n("span",[e._v("Detail")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"","x-small":""},on:{click:function(t){return e.confirm(a.id)}}},"v-btn",s,!1),r),[n("v-icon",[e._v("mdi-close-circle")])],1)]}}],null,!0)},[n("span",[e._v("Cancel Order")])])]}},{key:"item.delivery_fee",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.delivery_fee,{separator:","}))+" ")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.price,{separator:","}))+" ")]}}])})],1),n("v-tab-item",{attrs:{id:"menu-2"}},[n("v-card-title",[n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{headers:e.headers,items:e.dikirimExp,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{icon:"",small:""}},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.dataDetailExp(a.id)}}},[e._v(" mdi-eye ")])],1)]}},{key:"item.delivery_fee",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.delivery_fee,{separator:","}))+" ")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.price,{separator:","}))+" ")]}}])})],1),n("v-tab-item",{attrs:{id:"menu-3"}},[n("v-card-title",[n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{headers:e.headers,items:e.selesaiExp,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{icon:"",small:""}},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.dataDetailExp(a.id)}}},[e._v(" mdi-eye ")])],1)]}},{key:"item.delivery_fee",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.delivery_fee,{separator:","}))+" ")]}},{key:"item.price",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatThousands(a.price,{separator:","}))+" ")]}}])})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),n("v-dialog",{attrs:{persistent:"",width:"1000"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"primary",staticStyle:{color:"white"}},[e._v(" Detail Order ")]),n("v-card-text",{staticClass:"mt-6",staticStyle:{color:"black"}},[n("v-row",[n("v-col",[n("div",{staticClass:"text-h6"},[e._v(" Penerima ")]),n("table",[n("tr",[n("td",[e._v("Nama")]),n("td",[e._v(":")]),n("td",[e._v(e._s(e.detail.receiver_name))])]),n("tr",[n("td",[e._v("No Hp")]),n("td",[e._v(":")]),n("td",[e._v(e._s(e.detail.receiver_phone))])]),n("tr",[n("td",[e._v("Kecamatan")]),n("td",[e._v(":")]),n("td",[e._v(e._s(e.detail.receiver_district))])]),n("tr",[n("td",[e._v("Alamat")]),n("td",[e._v(":")]),n("td",[e._v(e._s(e.detail.desc_add))])])])]),n("v-col",[n("div",{staticClass:"text-h6"},[e._v(" Pick Up Driver ")]),n("table",[n("tr",[n("td",[e._v("Nama")]),n("td",[e._v(":")]),n("td",[e._v(e._s(e.detail.driver_name))])]),n("tr",[n("td",[e._v("No HP")]),n("td",[e._v(":")]),n("td",[e._v(e._s(e.detail.driver_phone))])])])])],1),n("div",{staticClass:"text-h6 mt-6"},[e._v(" Produk ")]),n("v-data-table",{attrs:{headers:e.headers2,items:e.product,"items-per-page":10}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.dialog_confirm,callback:function(t){e.dialog_confirm=t},expression:"dialog_confirm"}},[n("v-card",[n("v-card-title",[e._v(" Yakin ingin Batalkan Orderan ini ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog_confirm=!1}}},[e._v(" Tidak ")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.postStatus(6)}}},[e._v(" Yakin ")])],1)],1)],1)],1)},de=[],le=(a("4de4"),a("bc3a")),ue=a.n(le),me=a("033f"),he={data:function(){return{selected:[],drawer:!1,data:[],dialog:!1,dialog_confirm:!1,group:null,formatThousands:me,detail:[],product:[],exp:[],id:null,tab:0,tab_cat:0,search:"",isLarge:this.$vuetify.breakpoint.lgAndUp,isSmall:this.$vuetify.breakpoint.mdOnly,isXSmall:this.$vuetify.breakpoint.smAndDown,headers:[{text:"No Order",align:"start",value:"no_order"},{text:"Nama Produk",value:"product_name"},{text:"Nama Penerima",value:"receiver_name"},{text:"Harga",value:"price"},{text:"Ongkos Kirim",value:"delivery_fee"},{text:"Actions",value:"actions",sortable:!1}],headers2:[{text:"Nama",align:"start",value:"product_name"},{text:"Berat",value:"weight"},{text:"Volume",value:"volume"},{text:"Harga",value:"price"},{text:"Ongkos Kirim",value:"delivery_fee"},{text:"Metode Pembayaran",value:"method"}]}},computed:{diproses:function(){var e=this.data.filter((function(e){return"Assigned"===e.status||"Pickup Finish"===e.status||"Pickup Process"===e.status}));return e},dikirim:function(){var e=this.data.filter((function(e){return"Delivery Assigned"===e.status||"Re-Deliver"===e.status}));return e},selesai:function(){var e=this.data.filter((function(e){return"Delivered"===e.status}));return e},diprosesExp:function(){var e=this.exp.filter((function(e){return"Delivery Assigned"===e.status&&"0"===e.pickup_status}));return e},dikirimExp:function(){var e=this.exp.filter((function(e){return"Delivery Assigned"===e.status&&"1"===e.pickup_status}));return e},selesaiExp:function(){var e=this.exp.filter((function(e){return"Delivered"===e.status}));return e}},mounted:function(){this.getReg(),this.getData()},methods:{getData:function(){var e=this;ue.a.get("region").then((function(t){e.$store.commit("district",t.data.districts),e.$store.commit("village",t.data.village),e.$store.commit("city",t.data.special_city)}))},getExp:function(){var e=this;ue.a.get("customer/order-list-exp").then((function(t){e.exp=t.data.data}))},getReg:function(){var e=this;ue.a.get("customer/order-list").then((function(t){e.data=t.data}))},postStatus:function(e){var t=this;ue.a.post("customer/cancel",{id:this.id,status:e}).then((function(){t.refresh(),t.dialog_confirm=!1}))},dataDetail:function(e){var t=this.data.filter((function(t){return t.id===e}));this.detail=t[0],this.product=t,this.dialog=!0},dataDetailExp:function(e){var t=this.exp.filter((function(t){return t.id===e}));this.detail=t[0],this.product=t,this.dialog=!0},confirm:function(e){this.id=e,this.dialog_confirm=!0},refresh:function(){var e=this;ue.a.get("customer/order-list").then((function(t){e.data=t.data}))},logout:function(){var e=this;ue.a.get("auth/logout").then((function(){e.$store.commit("authentication",null),e.$store.commit("Authorization",!1),e.$store.commit("users",{}),e.$router.push("/")}))}}},fe=he,pe=a("40dc"),ve=a("5bc1"),ge=a("8212"),be=a("b0af"),we=a("99d9"),_e=a("62ad"),xe=a("a523"),ye=a("8fea"),ke=a("169a"),Ce=a("ce7e"),Re=a("132d"),Ae=a("8860"),Ue=a("da13"),Ie=a("1baa"),De=a("5d23"),Me=a("f6c4"),Ve=a("f774"),Ee=a("0fd9"),Oe=a("8dd9"),Pe=a("2fa4"),$e=a("71a3"),Se=a("c671"),Be=a("fe57"),je=a("aac8"),Te=a("8654"),Fe=a("3a2f"),Le=Object(c["a"])(fe,ce,de,!1,null,null,null),qe=Le.exports;l()(Le,{VAppBar:pe["a"],VAppBarNavIcon:ve["a"],VAvatar:ge["a"],VBtn:u["a"],VCard:be["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:we["c"],VCol:_e["a"],VContainer:xe["a"],VDataTable:ye["a"],VDialog:ke["a"],VDivider:Ce["a"],VIcon:Re["a"],VImg:S["a"],VList:Ae["a"],VListItem:Ue["a"],VListItemGroup:Ie["a"],VListItemTitle:De["c"],VMain:Me["a"],VNavigationDrawer:Ve["a"],VRow:Ee["a"],VSheet:Oe["a"],VSpacer:Pe["a"],VTab:$e["a"],VTabItem:Se["a"],VTabs:Be["a"],VTabsItems:je["a"],VTextField:Te["a"],VTooltip:Fe["a"]});var He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"white",flat:""}},[n("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-container",{staticClass:"py-0 fill-height"},[n("v-avatar",{attrs:{width:"100"}},[n("v-img",{attrs:{contain:"",width:"200",src:a("4ffd")}})],1),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{to:"/",text:""}},[e._v(" HOME ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"customer-page"}},[e._v(" Orderan Saya ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/chat"}},[e._v(" Pesan ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/profile"}},[e._v(" Profil ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:""},on:{click:e.logout}},[e._v(" logout ")]),n("v-spacer")],1)],1),n("v-main",{staticClass:"grey lighten-3"},[n("v-container",[n("v-form",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[n("v-sheet",{staticClass:"hidden-sm-and-down"},[n("v-tabs",{staticClass:"ma-1",attrs:{vertical:"",color:"blue"},model:{value:e.tab_menu,callback:function(t){e.tab_menu=t},expression:"tab_menu"}},[n("v-tab",{attrs:{href:"#profile"}},[e._v(" Profil ")]),n("v-tab",{attrs:{href:"#changePassword"}},[e._v(" Ganti Password ")])],1)],1),n("v-sheet",{staticClass:"hidden-md-and-up"},[n("v-tabs",{staticClass:"ma-1",attrs:{color:"blue"},model:{value:e.tab_menu,callback:function(t){e.tab_menu=t},expression:"tab_menu"}},[n("v-tab",{attrs:{href:"#profile"}},[e._v(" Profile ")]),n("v-tab",{attrs:{href:"#changePassword"}},[e._v(" Change Password ")])],1)],1)],1),n("v-col",{staticClass:"px-9",attrs:{cols:"12",sm:"12",md:"10"}},[n("v-tabs-items",{model:{value:e.tab_menu,callback:function(t){e.tab_menu=t},expression:"tab_menu"}},[n("v-tab-item",{staticClass:"ma-3",attrs:{id:"profile"}},[n("v-row",[n("v-col",{attrs:{md:"6"}},[n("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Nama",required:"",outlined:""},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-mail",required:"",outlined:""},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{"error-messages":e.phoneErrors,label:"phone",required:"",outlined:""},on:{input:function(t){return e.$v.phone.$touch()},blur:function(t){return e.$v.phone.$touch()}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("v-text-field",{attrs:{label:"phone2 (Terhubung dengan whatsapp)"},model:{value:e.phone2,callback:function(t){e.phone2=t},expression:"phone2"}}),n("v-select",{attrs:{items:this.$store.state.city,"item-text":"nama","item-value":"city_id",label:"Kota",required:"",outlined:""},on:{change:function(t){return e.filterDistrictUser()}},model:{value:e.city_id,callback:function(t){e.city_id=t},expression:"city_id"}}),n("v-select",{attrs:{items:e.filteredDistrict,"item-text":"nama","item-value":"id",label:"Kecamatan",disabled:null===e.city_id,required:"",outlined:""},on:{change:e.filterVillageUser},model:{value:e.district_id,callback:function(t){e.district_id=t},expression:"district_id"}}),null!==e.district_id?n("v-select",{attrs:{items:e.filteredVillage,"item-text":"nama","item-value":"id",label:"Kelurahan/Desa",required:"",outlined:""},model:{value:e.village_id,callback:function(t){e.village_id=t},expression:"village_id"}}):n("v-select",{attrs:{disabled:"",outlined:"",items:e.filteredVillage,"item-text":"nama","item-value":"id",label:"Kelurahan/Desa"},model:{value:e.village_id,callback:function(t){e.village_id=t},expression:"village_id"}})],1),n("v-col",{attrs:{md:"6"}},[n("v-textarea",{attrs:{label:"Alamat",outlined:"",hint:"Masukan Alamat"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),n("v-file-input",{attrs:{accept:"image/jpeg","prepend-icon":"",label:"Gambar",outlined:""},on:{change:function(t){return e.preview(t)}},model:{value:e.photo,callback:function(t){e.photo=t},expression:"photo"}}),e.imgUrl?n("div",[n("v-img",{staticClass:"preview",attrs:{src:e.$baseUrl+e.imgUrl,width:"30%"}})],1):e._e(),n("v-btn",{staticClass:"float-right mr-2",attrs:{color:"primary"},on:{click:function(t){return e.updateUser()}}},[e._v(" Simpan ")])],1)],1)],1),n("v-tab-item",{attrs:{id:"changePassword"}},[n("v-row",{staticClass:"ma-3"},[n("v-col",{attrs:{md:"6"}},[n("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password","error-messages":e.passwordErrors,label:"Password",required:"",outlined:""},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()},"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",type:e.show2?"text":"password","error-messages":e.passwordConfirmationErrors,label:"Password Confirmation",required:"",outlined:""},on:{input:function(t){return e.$v.passwordConfirmation.$touch()},blur:function(t){return e.$v.passwordConfirmation.$touch()},"click:append":function(t){e.show2=!e.show2}},model:{value:e.passwordConfirmation,callback:function(t){e.passwordConfirmation=t},expression:"passwordConfirmation"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.changePassword()}}},[e._v(" Simpan ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},Ne=[],ze=(a("b0c0"),a("1dce")),Ye=a("b5ae"),Ke={mixins:[ze["validationMixin"]],validations:{name:{required:Ye["required"],maxLength:Object(Ye["maxLength"])(100)},email:{required:Ye["required"],email:Ye["email"]},password:{required:Ye["required"],minLength:Object(Ye["minLength"])(8)},role:{required:Ye["required"]},passwordConfirmation:{required:Ye["required"],sameAsPassword:Object(Ye["sameAs"])("password"),minLength:Object(Ye["minLength"])(8)},form:{weight:{required:Ye["required"]},selectedMethod:{required:Ye["required"]}},phone:{required:Ye["required"],minLength:Object(Ye["minLength"])(10)},category:{required:Ye["required"]}},data:function(){return{show1:!1,show2:!1,name:null,email:null,phone:null,phone2:null,address:null,password:null,passwordConfirmation:null,tab_menu:0,role_id:5,city_id:null,village_id:null,district_id:null,city:[],district:[],village:[],filteredVillage:[],filteredDistrict:[],photo:null,imgUrl:null}},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be at most 30 characters long"),!this.$v.name.required&&e.push("Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&e.push("At Least 8 Characters"),!this.$v.password.required&&e.push("Password is required"),e):e},passwordConfirmationErrors:function(){var e=[];return this.$v.passwordConfirmation.$dirty?(!this.$v.passwordConfirmation.sameAsPassword&&e.push("Passwords must be identical"),!this.$v.passwordConfirmation.required&&e.push("Password Confirmation is required"),e):e},phoneErrors:function(){var e=[];return this.$v.phone.$dirty?(!this.$v.phone.minLength&&e.push("Phone must be at most 12 characters long"),!this.$v.phone.required&&e.push("phone is required."),e):e}},mounted:function(){this.cond()},methods:{cond:function(){if(null!==this.$store.state.authentication){var e=this.$store.state.users;this.name=e.name,this.email=e.email,this.phone=e.phone,this.phone2=e.phone2,this.photo=e.photo,this.imgUrl=e.photo,this.address=e.address,this.city_id=e.city,this.district_id=e.district,this.village_id=e.village,this.filterDistrictUser(),this.filterVillageUser()}},updateUser:function(){var e=this;this.$swal.showLoading();var t=new FormData;t.append("id",this.$store.state.users.id),t.append("name",this.name),t.append("email",this.email),t.append("address",this.address),t.append("role_id",this.role_id),t.append("phone",this.phone),t.append("phone2",this.phone2),t.append("photo",this.photo),t.append("city_id",this.city_id),t.append("district_id",this.district_id),t.append("village_id",this.village_id),ue.a.post("auth/update",t).then((function(){e.$swal("Data Updated Successfully","","success"),e.getUsers()}))},filterDistrictUser:function(){var e=this;this.filteredDistrict=[],this.filteredDistrict=this.$store.state.district.filter((function(t){return t.kabupaten_id===e.city_id}))},filterVillageUser:function(){var e=this;this.filteredVillage=[],this.filteredVillage=this.$store.state.village.filter((function(t){return t.kecamatan_id===e.district_id}))},getUsers:function(){var e=this;ue.a.get("customer/user").then((function(t){e.$store.commit("users",t.data.data)})).catch((function(e){console.log(e)}))},changePassword:function(){var e=this;ue.a.post("auth/change-password",{password:this.password,email:this.$store.state.users.email}).then((function(){e.$swal("Password has been changed","","success")}))},logout:function(){var e=this;ue.a.get("auth/logout").then((function(){e.$store.commit("authentication",null),e.$store.commit("Authorization",!1),e.$store.commit("users",{}),e.$router.push("/")}))}}},Ge=Ke,Qe=a("23a7"),We=a("4bd4"),Xe=a("b974"),Ze=a("a844"),Je=Object(c["a"])(Ge,He,Ne,!1,null,null,null),et=Je.exports;l()(Je,{VAppBar:pe["a"],VAppBarNavIcon:ve["a"],VAvatar:ge["a"],VBtn:u["a"],VCol:_e["a"],VContainer:xe["a"],VFileInput:Qe["a"],VForm:We["a"],VImg:S["a"],VMain:Me["a"],VRow:Ee["a"],VSelect:Xe["a"],VSheet:Oe["a"],VSpacer:Pe["a"],VTab:$e["a"],VTabItem:Se["a"],VTabs:Be["a"],VTabsItems:je["a"],VTextField:Te["a"],VTextarea:Ze["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("core-app-bar"),a("welcome"),a("services"),a("about-me")],1)},at=[],nt={name:"CoreView",components:{AboutMe:function(){return a.e("chunk-abf0437c").then(a.bind(null,"2561"))},CoreAppBar:function(){return a.e("chunk-0dcc57d8").then(a.bind(null,"dc21"))},Services:function(){return a.e("chunk-702350a6").then(a.bind(null,"76d2"))},Welcome:function(){return a.e("chunk-0c585434").then(a.bind(null,"1ddd"))}}},rt=nt,st=Object(c["a"])(rt,tt,at,!1,null,null,null),it=st.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"padding-top":"10%"}},[a("v-row",[a("v-col",[a("v-card",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(" hide ")])],1),a("v-col",[a("v-card",{staticClass:"pa-8",attrs:{"align-item":"center"}},[a("v-card-title",{staticClass:"pa-0"},[a("p",[e._v("Masukan password baru anda")])]),a("v-form",{ref:"form",staticStyle:{color:"white"},attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-divider"),a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:e.passwordrules,type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",type:e.show2?"text":"password","error-messages":e.passwordConfirmationErrors,label:"Password Confirmation",required:""},on:{input:function(t){return e.$v.passwordConfirmation.$touch()},blur:function(t){return e.$v.passwordConfirmation.$touch()},"click:append":function(t){e.show2=!e.show2}},model:{value:e.passwordConfirmation,callback:function(t){e.passwordConfirmation=t},expression:"passwordConfirmation"}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"cyan accent-4"},on:{click:function(t){return e.changePassword()}}},[e._v(" Reset Password ")])],1)],1)],1),a("v-col",[a("v-card",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(" hide ")])],1)],1)],1)},ct=[],dt={mixins:[ze["validationMixin"]],validations:{password:{required:Ye["required"],minLength:Object(Ye["minLength"])(8)},passwordConfirmation:{required:Ye["required"],sameAsPassword:Object(Ye["sameAs"])("password"),minLength:Object(Ye["minLength"])(8)}},data:function(){return{show1:!1,show2:!1,valid:!0,passwordConfirmation:"",password:"",passwordrules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=10||"Password must be less than 8 characters"}]}},computed:{passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&e.push("At Least 8 Characters"),!this.$v.password.required&&e.push("Password is required"),e):e},passwordConfirmationErrors:function(){var e=[];return this.$v.passwordConfirmation.$dirty?(!this.$v.passwordConfirmation.sameAsPassword&&e.push("Passwords must be identical"),!this.$v.passwordConfirmation.required&&e.push("Password Confirmation is required"),e):e}},methods:{changePassword:function(){var e=this;ue.a.post("auth/change-password",{password:this.password,email:this.$route.params.email}).then((function(){e.$swal("Password has been changed","","success")}))}}},lt=dt,ut=Object(c["a"])(lt,ot,ct,!1,null,null,null),mt=ut.exports;l()(ut,{VBtn:u["a"],VCard:be["a"],VCardTitle:we["c"],VCol:_e["a"],VContainer:xe["a"],VDivider:Ce["a"],VForm:We["a"],VRow:Ee["a"],VTextField:Te["a"]});var ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"white",flat:""}},[n("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-container",{staticClass:"py-0 fill-height"},[n("v-avatar",{attrs:{width:"100"}},[n("v-img",{attrs:{contain:"",width:"200",src:a("4ffd")}})],1),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{to:"/",text:""}},[e._v(" HOME ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/customer-page"}},[e._v(" Orderan Saya ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/chat"}},[e._v(" Pesan ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:"",to:"/profile"}},[e._v(" Profil ")]),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:""},on:{click:e.logout}},[e._v(" logout ")]),n("v-spacer")],1)],1),n("v-main",{staticClass:"grey lighten-3"},[n("v-card",{staticClass:"mx-auto grey lighten-3",attrs:{flat:"","max-width":"1200"}},[n("div",{staticClass:"app-container",class:{"app-mobile":e.isDevice,"app-mobile-dark":"dark"===e.theme}},[n("v-btn",{staticClass:"mb-2 elevation-0 hidden-sm-and-down",attrs:{small:"",color:"primary"},on:{click:function(t){return e.createRoom()}}},[e._v(" Chat Admin ")]),e.showChat?n("chat-container",{attrs:{"current-user-id":e.currentUserId,theme:e.theme,"is-device":e.isDevice,data:e.users},on:{"show-demo-options":function(t){e.showDemoOptions=t}}}):e._e()],1)])],1)],1)},ft=[],pt=a("1da1"),vt=(a("96cf"),a("159b"),a("d81d"),a("25f0"),a("8aa5")),gt=a.n(vt),bt=(a("e71f"),a("66ce"),a("588e"),{apiKey:"AIzaSyADqV1RW55ZHNX_AZWXj_liVvg-ptylRO8",authDomain:"dkm-chat.firebaseapp.com",databaseURL:"https://dkm-chat-default-rtdb.firebaseio.com",projectId:"dkm-chat",storageBucket:"dkm-chat.appspot.com",messagingSenderId:"442712611101",appId:"1:442712611101:web:652cb5832d00de8a58a9f4",measurementId:"G-1JPCZKFK41"}),wt=gt.a.initializeApp(bt),_t=wt.firestore(),xt=wt.storage().ref(),yt=_t.collection("users"),kt=_t.collection("chatRooms"),Ct=function(e){return kt.doc(e).collection("messages")},Rt=xt.child("files"),At=(gt.a.firestore.FieldValue.serverTimestamp(),gt.a.firestore.FieldValue.delete()),Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"window-container",class:{"window-mobile":e.isDevice}},[e.rooms.length>0?a("chat-window",{attrs:{height:e.screenHeight,theme:e.theme,styles:e.styles,"single-room":e.$route.path==="/chat-mobile/"+e.$route.params.id,"current-user-id":e.currentUserId,"room-id":e.roomId,rooms:e.loadedRooms,"loading-rooms":e.loadingRooms,messages:e.messages,"messages-loaded":e.messagesLoaded,"rooms-loaded":e.roomsLoaded,"room-actions":e.roomActions,"menu-actions":e.menuActions,"room-message":e.roomMessage,"show-emojis":!0,"show-audio":!1,"show-add-room":!1,"show-files":!1},on:{"fetch-more-rooms":e.fetchMoreRooms,"fetch-messages":e.fetchMessages,"send-message":e.sendMessage,"edit-message":e.editMessage,"delete-message":e.deleteMessage,"open-file":e.openFile,"open-user-tag":e.openUserTag,"room-action-handler":e.menuActionHandler,"menu-action-handler":e.menuActionHandler,"send-message-reaction":e.sendMessageReaction,"typing-message":e.typingMessage,"toggle-rooms-list":function(t){return e.$emit("show-demo-options",t.opened)}}}):a("v-card",{attrs:{flat:""}},[a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticStyle:{"margin-top":"80%","font-family":"'Roboto', sans-serif"},attrs:{dark:"",color:"#B70005"},on:{click:function(t){return e.createRoom()}}},[e._v(" Mulai Percakapan ")])],1)],1)],1)},It=[],Dt=a("ade3"),Mt=a("5530"),Vt=a("2909"),Et=(a("fb6a"),a("7db0"),a("99af"),a("b64b"),a("a15b"),a("c740"),a("4d90"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var a=e.seconds?new Date(1e3*e.seconds):e;if("HH:mm"===t)return"".concat(Ot(a.getHours(),2),":").concat(Ot(a.getMinutes(),2));if("DD MMMM YYYY"===t){var n={month:"long",year:"numeric",day:"numeric"};return"".concat(new Intl.DateTimeFormat("en-GB",n).format(a))}if("DD/MM/YY"===t){var r={month:"numeric",year:"numeric",day:"numeric"};return"".concat(new Intl.DateTimeFormat("en-GB",r).format(a))}if("DD MMMM, HH:mm"===t){var s={month:"long",day:"numeric"};return"".concat(new Intl.DateTimeFormat("en-GB",s).format(a),", ").concat(Ot(a.getHours(),2),":").concat(Ot(a.getMinutes(),2))}return a}}),Ot=function(e,t){return String(e).padStart(t,"0")},Pt=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},$t=a("91b2"),St=a.n($t),Bt=(a("4768"),{components:{ChatWindow:St.a},props:["currentUserId","theme","isDevice","data"],data:function(){return{roomsPerPage:15,rooms:[],roomId:"",startRooms:null,endRooms:null,roomsLoaded:!1,loadingRooms:!0,allUsers:[],loadingLastMessageByRoom:0,roomsLoadedCount:!1,selectedRoom:null,messagesPerPage:20,messages:[],messagesLoaded:!1,roomMessage:"",startMessages:null,endMessages:null,roomsListeners:[],listeners:[],typingMessageCache:"",disableForm:!1,addNewRoom:null,addRoomUsername:"",inviteRoomId:null,invitedUsername:"",removeRoomId:null,removeUserId:"",removeUsers:[],roomActions:[{name:"inviteUser",title:"Invite User"},{name:"removeUser",title:"Remove User"},{name:"deleteRoom",title:"Delete Room"}],menuActions:[{name:"inviteUser",title:"Invite User"},{name:"removeUser",title:"Remove User"},{name:"deleteRoom",title:"Delete Room"}],styles:{container:{borderRadius:"4px"}}}},computed:{loadedRooms:function(){return this.rooms.slice(0,this.roomsLoadedCount)},screenHeight:function(){return this.isDevice?window.innerHeight+"px":"calc(100vh - 200px)"}},mounted:function(){this.fetchRooms(),this.updateUserOnlineStatus()},destroyed:function(){this.resetRooms()},methods:{resetRooms:function(){this.loadingRooms=!0,this.loadingLastMessageByRoom=0,this.roomsLoadedCount=0,this.rooms=[],this.roomsLoaded=!0,this.startRooms=null,this.endRooms=null,this.roomsListeners.forEach((function(e){return e()})),this.roomsListeners=[],this.resetMessages()},resetMessages:function(){this.messages=[],this.messagesLoaded=!1,this.startMessages=null,this.endMessages=null,this.listeners.forEach((function(e){return e()})),this.listeners=[]},fetchRooms:function(){this.resetRooms(),this.fetchMoreRooms()},fetchMoreRooms:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){var n,r,s,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.endRooms||e.startRooms){t.next=2;break}return t.abrupt("return",e.roomsLoaded=!0);case 2:return n=kt.where("users","array-contains",e.currentUserId).orderBy("lastUpdated","desc").limit(e.roomsPerPage),e.startRooms&&(n=n.startAfter(e.startRooms)),t.next=6,n.get();case 6:return r=t.sent,e.roomsLoaded=r.empty||r.size<e.roomsPerPage,e.startRooms&&(e.endRooms=e.startRooms),e.startRooms=r.docs[r.docs.length-1],s=[],r.forEach((function(t){t.data().users.forEach((function(t){var a=e.allUsers.find((function(e){return e._id===t}));a||-1!==s.indexOf(t)||s.push(t)}))})),i=[],s.forEach((function(e){var t=yt.doc(e).get().then((function(e){return e.data()}));i.push(t)})),t.t0=[],t.t1=Object(Vt["a"])(e.allUsers),t.t2=Vt["a"],t.next=19,Promise.all(i);case 19:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),e.allUsers=t.t0.concat.call(t.t0,t.t1,t.t4),o={},r.forEach((function(t){o[t.id]=Object(Mt["a"])(Object(Mt["a"])({},t.data()),{},{users:[]}),t.data().users.forEach((function(a){var n=e.allUsers.find((function(e){return e._id===a}));n&&o[t.id].users.push(n)}))})),c=[],Object.keys(o).forEach((function(t){var n=o[t],r=n.users.filter((function(t){return t._id!==e.currentUserId}));n.roomName=r.map((function(e){return e.username})).join(", ")||"Myself";var s=1===r.length&&r[0].avatar?r[0].avatar:a("cf05");c.push(Object(Mt["a"])(Object(Mt["a"])({},n),{},{roomId:t,avatar:s,index:n.lastUpdated.seconds,lastMessage:{content:"Room created",timestamp:e.formatTimestamp(new Date(n.lastUpdated.seconds),n.lastUpdated)}}))})),e.rooms=e.rooms.concat(c),c.map((function(t){return e.listenLastMessage(t)})),e.rooms.length||(e.loadingRooms=!1,e.roomsLoadedCount=0),e.listenUsersOnlineStatus(c),e.listenRooms(n);case 31:case"end":return t.stop()}}),t)})))()},listenLastMessage:function(e){var t=this,a=Ct(e.roomId).orderBy("timestamp","desc").limit(1).onSnapshot((function(a){a.forEach((function(a){var n=t.formatLastMessage(a.data()),r=t.rooms.findIndex((function(t){return e.roomId===t.roomId}));t.rooms[r].lastMessage=n,t.rooms=Object(Vt["a"])(t.rooms)})),t.loadingLastMessageByRoom<t.rooms.length&&(t.loadingLastMessageByRoom++,t.loadingLastMessageByRoom===t.rooms.length&&(t.loadingRooms=!1,t.roomsLoadedCount=t.rooms.length))}));this.roomsListeners.push(a)},formatLastMessage:function(e){if(e.timestamp){var t=e.content;return e.file&&(t="".concat(e.file.name,".").concat(e.file.extension||e.file.type)),Object(Mt["a"])(Object(Mt["a"])({},e),{content:t,timestamp:this.formatTimestamp(new Date(1e3*e.timestamp.seconds),e.timestamp),distributed:!0,seen:e.sender_id===this.currentUserId?e.seen:null,new:e.sender_id!==this.currentUserId&&(!e.seen||!e.seen[this.currentUserId])})}},formatTimestamp:function(e,t){var a=Pt(e,new Date)?"HH:mm":"DD/MM/YY",n=Et(t,a);return"HH:mm"===a?"Today, ".concat(n):n},fetchMessages:function(e){var t=this,a=e.room,n=e.options,r=void 0===n?{}:n;if(this.$emit("show-demo-options",!1),r.reset&&this.resetMessages(),this.endMessages&&!this.startMessages)return this.messagesLoaded=!0;var s=Ct(a.roomId),i=s.orderBy("timestamp","desc").limit(this.messagesPerPage);this.startMessages&&(i=i.startAfter(this.startMessages)),this.selectedRoom=a.roomId,i.get().then((function(e){if(t.selectedRoom===a.roomId){e.empty&&(t.messagesLoaded=!0),t.startMessages&&(t.endMessages=t.startMessages),t.startMessages=e.docs[e.docs.length-1];var n=s.orderBy("timestamp");t.startMessages&&(n=n.startAfter(t.startMessages)),t.endMessages&&(n=n.endAt(t.endMessages)),r.reset&&(t.messages=[]),e.forEach((function(e){var n=t.formatMessage(a,e);t.messages.unshift(n)}));var i=n.onSnapshot((function(e){t.listenMessages(e,a)}));t.listeners.push(i)}}))},listenMessages:function(e,t){var a=this;e.forEach((function(e){var n=a.formatMessage(t,e),r=a.messages.findIndex((function(t){return t._id===e.id}));-1===r?a.messages=a.messages.concat([n]):a.$set(a.messages,r,n),a.markMessagesSeen(t,e)}))},markMessagesSeen:function(e,t){t.data().sender_id===this.currentUserId||t.data().seen&&t.data().seen[this.currentUserId]||Ct(e.roomId).doc(t.id).update(Object(Dt["a"])({},"seen.".concat(this.currentUserId),new Date))},formatMessage:function(e,t){var a=e.users.find((function(e){return t.data().sender_id===e._id})),n=t.data(),r=n.sender_id,s=n.timestamp;return Object(Mt["a"])(Object(Mt["a"])({},t.data()),{senderId:r,_id:t.id,seconds:s.seconds,timestamp:Et(s,"HH:mm"),date:Et(s,"DD MMMM YYYY"),username:a?a.username:null,distributed:!0})},sendMessage:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o,c,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.content,r=e.roomId,s=e.file,i=e.replyMessage,o={sender_id:t.currentUserId,content:n,timestamp:new Date},s&&(o.file={name:s.name,size:s.size,type:s.type,extension:s.extension||s.type,url:s.localUrl},s.audio&&(o.file.audio=!0,o.file.duration=s.duration)),i&&(o.replyMessage={_id:i._id,content:i.content,sender_id:i.senderId},i.file&&(o.replyMessage.file=i.file)),a.next=6,Ct(r).add(o);case 6:c=a.sent,d=c.id,s&&t.uploadFile({file:s,messageId:d,roomId:r}),kt.doc(r).update({lastUpdated:new Date});case 10:case"end":return a.stop()}}),a)})))()},openFile:function(e){var t=e.message;window.open(t.file.url,"_blank")},openUserTag:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.user,t.rooms.forEach((function(e){if(2===e.users.length){var a=e.users[0]._id,s=e.users[1]._id;a!==n._id&&a!==t.currentUserId||s!==n._id&&s!==t.currentUserId||(r=e.roomId)}})),!r){a.next=4;break}return a.abrupt("return",t.roomId=r);case 4:return a.next=6,kt.where("users","==",[t.currentUserId,n._id]).get();case 6:if(s=a.sent,s.empty){a.next=9;break}return a.abrupt("return",t.loadRoom(s));case 9:return a.next=11,kt.where("users","==",[n._id,t.currentUserId]).get();case 11:if(i=a.sent,i.empty){a.next=14;break}return a.abrupt("return",t.loadRoom(i));case 14:return a.next=16,kt.add({users:[n._id,t.currentUserId],lastUpdated:new Date});case 16:o=a.sent,t.roomId=o.id,t.fetchRooms();case 19:case"end":return a.stop()}}),a)})))()},loadRoom:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.forEach(function(){var e=Object(pt["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loadingRooms){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kt.doc(a.id).update({lastUpdated:new Date});case 4:t.roomId=a.id,t.fetchRooms();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},editMessage:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.messageId,r=e.newContent,s=e.roomId,i=e.file,o={edited:new Date},o.content=r,i?(o.file={name:i.name,size:i.size,type:i.type,extension:i.extension||i.type,url:i.url||i.localUrl},i.audio&&(o.file.audio=!0,o.file.duration=i.duration)):o.file=At,a.next=6,Ct(s).doc(n).update(o);case 6:i&&t.uploadFile({file:i,messageId:n,roomId:s});case 7:case"end":return a.stop()}}),a)})))()},deleteMessage:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.message,r=e.roomId,a.next=3,Ct(r).doc(n._id).update({deleted:new Date});case 3:if(s=n.file,!s){a.next=8;break}return i=Rt.child(t.currentUserId).child(n._id).child("".concat(s.name,".").concat(s.extension||s.type)),a.next=8,i.delete();case 8:case"end":return a.stop()}}),a)})))()},uploadFile:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.file,r=e.messageId,s=e.roomId,i=n.extension||n.type,"svg"!==i&&"pdf"!==i||(i=n.type),o=Rt.child(t.currentUserId).child(r).child("".concat(n.name,".").concat(i)),a.next=6,o.put(n.blob,{contentType:i});case 6:return a.next=8,o.getDownloadURL();case 8:return c=a.sent,a.next=11,Ct(s).doc(r).update({"file.url":c});case 11:case"end":return a.stop()}}),a)})))()},menuActionHandler:function(e){var t=e.action,a=e.roomId;switch(t.name){case"inviteUser":return this.inviteUser(a);case"removeUser":return this.removeUser(a);case"deleteRoom":return this.deleteRoom(a)}},sendMessageReaction:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.reaction,r=e.remove,s=e.messageId,i=e.roomId,o=r?gt.a.firestore.FieldValue.arrayRemove(t.currentUserId):gt.a.firestore.FieldValue.arrayUnion(t.currentUserId),a.next=4,Ct(i).doc(s).update(Object(Dt["a"])({},"reactions.".concat(n.name),o));case 4:case"end":return a.stop()}}),a)})))()},typingMessage:function(e){var t=e.message,a=e.roomId;if(a){if((null===t||void 0===t?void 0:t.length)>1)return this.typingMessageCache=t;if(1===(null===t||void 0===t?void 0:t.length)&&this.typingMessageCache)return this.typingMessageCache=t;this.typingMessageCache=t;var n=t?gt.a.firestore.FieldValue.arrayUnion(this.currentUserId):gt.a.firestore.FieldValue.arrayRemove(this.currentUserId);kt.doc(a).update({typingUsers:n})}},listenRooms:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.onSnapshot((function(e){e.forEach((function(e){var a=t.rooms.find((function(t){return t.roomId===e.id}));a&&(a.typingUsers=e.data().typingUsers,a.index=e.data().lastUpdated.seconds)}))})),t.roomsListeners.push(n);case 2:case"end":return a.stop()}}),a)})))()},updateUserOnlineStatus:function(){var e=gt.a.database().ref("/status/"+this.currentUserId),t={state:"offline",lastChanged:gt.a.database().ServerValue.TIMESTAMP},a={state:"online",lastChanged:gt.a.database().ServerValue.TIMESTAMP};gt.a.database().ref(".info/connected").on("value",(function(n){!1!==n.val()&&e.onDisconnect().set(t).then((function(){e.set(a)}))}))},listenUsersOnlineStatus:function(e){var t=this;e.map((function(e){e.users.map((function(a){var n=gt.a.database().ref("/status/"+a._id).on("value",(function(n){if(n&&n.val()){var r=t.formatTimestamp(new Date(n.val().lastChanged),new Date(n.val().lastChanged));a.status=Object(Mt["a"])(Object(Mt["a"])({},n.val()),{},{lastChanged:r});var s=t.rooms.findIndex((function(t){return e.roomId===t.roomId}));t.$set(t.rooms,s,e)}}));t.roomsListeners.push(n)}))}))},addRoom:function(){this.resetForms(),this.addNewRoom=!0},createRoom:function(){this.disableForm=!0,console.log("test"),"/chat"===this.$route.path?kt.add({users:["2",this.currentUserId],lastUpdated:new Date}):kt.add({users:["2",this.$route.params.id.toString()],lastUpdated:new Date}),this.loadOnce(),this.fetchRooms()},loadOnce:function(){location.reload()},inviteUser:function(e){this.resetForms(),this.inviteRoomId=e},addRoomUser:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.disableForm=!0,t.next=3,yt.add({username:e.invitedUsername});case 3:return a=t.sent,n=a.id,t.next=7,yt.doc(n).update({_id:n});case 7:return t.next=9,kt.doc(e.inviteRoomId).update({users:gt.a.firestore.FieldValue.arrayUnion(n)});case 9:e.inviteRoomId=null,e.invitedUsername="",e.fetchRooms();case 12:case"end":return t.stop()}}),t)})))()},removeUser:function(e){this.resetForms(),this.removeRoomId=e,this.removeUsers=this.rooms.find((function(t){return t.roomId===e})).users},deleteRoomUser:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.disableForm=!0,t.next=3,kt.doc(e.removeRoomId).update({users:gt.a.firestore.FieldValue.arrayRemove(e.removeUserId)});case 3:e.removeRoomId=null,e.removeUserId="",e.fetchRooms();case 6:case"end":return t.stop()}}),t)})))()},deleteRoom:function(e){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.rooms.find((function(t){return t.roomId===e})),!n.users.find((function(e){return"SGmFnBZB4xxMv9V4CVlW"===e._id}))&&!n.users.find((function(e){return"6jMsIXUrBHBj7o2cRlau"===e._id}))){a.next=3;break}return a.abrupt("return",alert("Nope, for demo purposes you cannot delete this room"));case 3:return r=Ct(e),r.get().then((function(e){e.empty||e.docs.map((function(e){return r.doc(e.id).delete()}))})),a.next=7,kt.doc(e).delete();case 7:t.fetchRooms();case 8:case"end":return a.stop()}}),a)})))()},resetForms:function(){this.disableForm=!1,this.addNewRoom=null,this.addRoomUsername="",this.inviteRoomId=null,this.invitedUsername="",this.removeRoomId=null,this.removeUserId=""}}}),jt=Bt,Tt=(a("f5c2"),Object(c["a"])(jt,Ut,It,!1,null,"b3cd584a",null)),Ft=Tt.exports;l()(Tt,{VBtn:u["a"],VCard:be["a"],VCardActions:we["a"]});var Lt={components:{ChatContainer:Ft},data:function(){return{theme:"light",showChat:!0,users:[],isDevice:!1,showDemoOptions:!0,updatingData:!1,currentUserId:null}},computed:{showOptions:function(){return!this.isDevice||this.showDemoOptions}},watch:{currentUserId:function(){var e=this;this.showChat=!1,setTimeout((function(){return e.showChat=!0}),150)}},mounted:function(){var e=this;this.isDevice=window.innerWidth<500,window.addEventListener("resize",(function(t){t.isTrusted&&(e.isDevice=window.innerWidth<500)})),this.getData()},methods:{resetData:function(){kt.get().then((function(e){e.forEach(function(){var e=Object(pt["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=kt.doc(t.id).collection("messages"),e.next=3,a.get().then((function(e){e.empty||e.docs.map((function(e){return a.doc(e.id).delete()}))}));case 3:kt.doc(t.id).delete();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),yt.get().then((function(e){e.forEach((function(e){yt.doc(e.id).delete()}))}))},createRoom:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.disableForm=!0,t.next=3,kt.add({users:["2",e.currentUserId],lastUpdated:new Date});case 3:e.loadOnce();case 4:case"end":return t.stop()}}),t)})))()},getData:function(){var e=this;this.currentUserId=this.$store.state.users.id.toString();var t=[];ue.a.get("customer").then((function(a){var n=a.data.data;n.forEach((function(a){t.push({_id:a.id,username:a.name,avatar:e.$baseUrl+a.photo})})),e.users=t,e.addData()}))},addData:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.updatingData=!0,a=0;case 2:if(!(a<e.users.length)){t.next=9;break}return n=e.users[a],t.next=6,yt.doc(n._id).set(n);case 6:a++,t.next=2;break;case 9:e.updatingData=!1;case 10:case"end":return t.stop()}}),t)})))()},logout:function(){var e=this;ue.a.get("auth/logout").then((function(){e.$store.commit("authentication",null),e.$store.commit("Authorization",!1),e.$store.commit("users",{}),e.$router.push("/")}))},loadOnce:function(){location.reload()}}},qt=Lt,Ht=(a("44b9"),Object(c["a"])(qt,ht,ft,!1,null,null,null)),Nt=Ht.exports;l()(Ht,{VAppBar:pe["a"],VAppBarNavIcon:ve["a"],VAvatar:ge["a"],VBtn:u["a"],VCard:be["a"],VContainer:xe["a"],VImg:S["a"],VMain:Me["a"],VSpacer:Pe["a"]});var zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"app-container",class:{"app-mobile":e.isDevice,"app-mobile-dark":"dark"===e.theme}},[e.showChat?a("chat-container",{attrs:{"current-user-id":e.currentUserId,theme:e.theme,"is-device":e.isDevice,data:e.users}}):e._e()],1)])},Yt=[],Kt={components:{ChatContainer:Ft},data:function(){return{theme:"light",showChat:!0,users:[],isDevice:!1,updatingData:!1}},computed:{showOptions:function(){return!this.isDevice||this.showDemoOptions},currentUserId:function(){return this.$route.params.id}},watch:{currentUserId:function(){var e=this;this.showChat=!1,setTimeout((function(){return e.showChat=!0}),150)}},mounted:function(){var e=this;this.isDevice=window.innerWidth<500,window.addEventListener("resize",(function(t){t.isTrusted&&(e.isDevice=window.innerWidth<500)})),this.getData()},methods:{resetData:function(){kt.get().then((function(e){e.forEach(function(){var e=Object(pt["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=kt.doc(t.id).collection("messages"),e.next=3,a.get().then((function(e){e.empty||e.docs.map((function(e){return a.doc(e.id).delete()}))}));case 3:kt.doc(t.id).delete();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),yt.get().then((function(e){e.forEach((function(e){yt.doc(e.id).delete()}))}))},getData:function(){var e=this,t=[];ue.a.get("customer").then((function(a){var n=a.data.data;n.forEach((function(a){t.push({_id:a.id,username:a.name,avatar:e.$baseUrl+a.photo})})),e.users=t,e.addData()}))},addData:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.updatingData=!0,a=0;case 2:if(!(a<e.users.length)){t.next=9;break}return n=e.users[a],t.next=6,yt.doc(n._id).set(n);case 6:a++,t.next=2;break;case 9:e.updatingData=!1;case 10:case"end":return t.stop()}}),t)})))()},logout:function(){var e=this;ue.a.get("auth/logout").then((function(){e.$store.commit("authentication",null),e.$store.commit("Authorization",!1),e.$store.commit("users",{}),e.$router.push("/")}))}}},Gt=Kt,Qt=(a("e61f"),Object(c["a"])(Gt,zt,Yt,!1,null,null,null)),Wt=Qt.exports,Xt=a("1954");n["a"].use(oe["a"]);var Zt=[{path:"/",name:"View",component:it},{path:"/login",name:"Login",component:Xt["a"]},{path:"/customer-page",name:"CustomerPage",component:qe},{path:"/profile",name:"Profile",component:et},{path:"/change-password/:email?",name:"ChangePassword",component:mt},{path:"/chat",name:"Chat",component:Nt},{path:"/chat-mobile/:id?",name:"ChatMobile",component:Wt}],Jt=new oe["a"]({mode:"hash",base:"",routes:Zt}),ea=Jt,ta=a("5886"),aa=(a("4413"),a("89ce"));n["a"].use(aa["a"]);aa["a"];var na=a("73c3"),ra=a.n(na),sa=a("2536"),ia=a.n(sa),oa=a("033f");a("2440"),n["a"].prototype.$baseUrl="https://daengkurir.online/test/api/",n["a"].config.productionTip=!1,n["a"].use(oe["a"]),n["a"].use(ee["a"]),n["a"].use(ia.a),n["a"].use(ra.a),n["a"].use(oa),n["a"].use(ta["a"]),ie.state.Authorization?(ue.a.defaults.headers.common.Authorization="Bearer"+ie.state.authentication,ue.a.defaults.baseURL="https://daengkurir.online/test/api/",ue.a.defaults.headers["Content-Type"]="Application/x-www-form-urlencoded;application/json"):(ue.a.defaults.baseURL="https://daengkurir.online/test/api/",ue.a.defaults.headers["Content-Type"]="Application/x-www-form-urlencoded;application/json"),new n["a"]({beforeCreate:function(){},vuetify:Y,store:ie,router:ea,render:function(e){return e(J)}}).$mount("#app")},"70bc":function(e,t,a){},8497:function(e,t,a){},"94e0":function(e,t,a){e.exports=a.p+"img/bubbles1.3c57343c.png"},9997:function(e,t,a){"use strict";a("70bc")},"9af2":function(e,t,a){e.exports=a.p+"img/bubbles2.30136c7d.png"},ac7b:function(e,t,a){},cb20:function(e,t,a){},cf05:function(e,t){e.exports="data:image/png;base64,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"},e61f:function(e,t,a){"use strict";a("ac7b")},f5c2:function(e,t,a){"use strict";a("8497")}});
//# sourceMappingURL=app.67673860.js.map